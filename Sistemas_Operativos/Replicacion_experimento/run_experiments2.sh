#!/usr/bin/env bash

strategies='hybrid interrupt polling'
fun='constante'
ndev='3'
wait_times=' 5.000000e-02 4.250000e-02 3.612500e-02 3.070625e-02 2.610031e-02 2.218527e-02 1.885748e-02 1.602885e-02 1.362453e-02 1.158085e-02 9.843720e-03 8.367162e-03 7.112088e-03 6.045275e-03 5.138483e-03 4.367711e-03 3.712554e-03 3.155671e-03 2.682320e-03 2.279972e-03 1.937977e-03 1.647280e-03 1.400188e-03 1.190160e-03 1.011636e-03 8.598905e-04 7.309069e-04 6.212709e-04 5.280802e-04 4.488682e-04 3.815380e-04 3.243073e-04 2.756612e-04 2.343120e-04 1.991652e-04 1.692904e-04 1.438969e-04 1.223123e-04 1.039655e-04 8.837066e-05 7.511506e-05 6.384780e-05 5.427063e-05 4.613004e-05 3.921053e-05 3.332895e-05 2.832961e-05 2.408017e-05 2.046814e-05 1.739792e-05 1.478823e-05 1.257000e-05 1.068450e-05 9.081824e-06 7.719550e-06 6.561618e-06 5.577375e-06 4.740769e-06 4.029653e-06 3.425205e-06 2.911425e-06 2.474711e-06 2.103504e-06 1.787979e-06 1.519782e-06 1.291815e-06 1.098042e-06 9.333360e-07 7.933356e-07 6.743353e-07 5.731850e-07 4.872072e-07 4.141262e-07 3.520072e-07 2.992061e-07 2.543252e-07 2.161764e-07 1.837500e-07 1.561875e-07 1.327594e-07 1.128455e-07 9.591863e-08 8.153084e-08 6.930121e-08 5.890603e-08 5.007013e-08 4.255961e-08 3.617567e-08 3.074932e-08 2.613692e-08 2.221638e-08 1.888392e-08 1.605134e-08 1.364364e-08 1.159709e-08 9.857526e-09 8.378897e-09 7.122063e-09 6.053753e-09 5.145690e-09 4.373837e-09 3.717761e-09 3.160097e-09 2.686083e-09 2.283170e-09 1.940695e-09 1.649590e-09 1.402152e-09 1.191829e-09 1.013055e-09 8.610965e-10 7.319320e-10 6.221422e-10 5.288209e-10 4.494978e-10 3.820731e-10 3.247621e-10 2.760478e-10 2.346406e-10 1.994445e-10 1.695279e-10 1.440987e-10 1.224839e-10 1.041113e-10 8.849460e-11'
bfsz='100'
poc='80'
t='0.2'

hyph="_"
dev='devs'
mtime='maxtime'
bfz='buffer'
wtime='wtime'
poccup='poccup'

for strategy in $strategies
 do
 for wt in $wait_times
  do
  exp=$fun$hyph$strategy$hyph$dev$ndev$hyph$mtime$t$hyph$bfz$bfsz$hyph$wtime$wt$hyph$poccup$poc
  python apps.py --experiment $exp &
  python kernel.py --experiment $exp --calendar $strategy --sz 100 --perc_occup 80&
  python device.py --experiment $exp --fun constante --dev 3 --wait $wt --maxtime 0.2
 done
done
echo All done

